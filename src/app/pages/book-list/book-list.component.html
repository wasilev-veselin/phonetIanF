<section class="page-list">
  <div class="page-list__header">
    <div>
      <p class="page-list__eyebrow">A Song of Ice and Fire</p>
      <h1>Books catalog</h1>
      <p class="page-list__lede">
        Browse the available books, jump into the details, and mark your
        favorites to keep them handy.
      </p>
    </div>
  </div>

  
  @if (!books.isLoading(); ) {
  <section class="book-card__grid">
    @for (book of books.value(); track book.id) {
    <article class="card" (click)="selectBook(book.id)">
      <div class="card__header">
        <div>
          <p class="card__eyebrow">ISBN {{ book.isbn }}</p>
          <h2 class="card__title">{{ book.name }}</h2>
          <p class="card__muted">by {{ book.authors.join(", ") }}</p>
        </div>
        <button
          type="button"
          class="card__favorite"
          (click)="toggleFavorite(book)"
        >
          â˜†
        </button>
      </div>

      <div class="card__meta">
        <span>{{ book.mediaType }}</span>
        <span>{{ book.numberOfPages }} pages</span>
        <span>Released {{ book.released | date : "mediumDate" }}</span>
      </div>

      <p class="card__publisher">
        Published by {{ book.publisher }} in {{ book.country }}
      </p>

      <div class="card__actions">
        <a
          class="card__link"
          [routerLink]="['/books', book.id]"
          (click)="$event.stopPropagation()"
        >
          View details
        </a>
      </div>
    </article>
    }
  </section>

  } @else {
  <p>Loading books...</p>
  }
</section>
